
# Бот вконтакте для автоматизации приёма заявлений в общежитии, напоминании о дежурстве и приёма чеков #

### Руководство пользователя
Для начала в файле our_token необходимо установить токен группы, ID вконтакте для администратора группы и для коменданта.
ID странички Вконтакте можно узнать на сайте https://regvk.com/id/ вставив ссылку на страницу в специальное поле
Чтобы узнать токен группы администратору необходимо зайти в группу, и выбрать пункт “Управление”.
Далее, необходимо выбрать пункт “Настройки” -> “Работа с API”
Тут мы уже нажимаем кнопку. И нам предложат выбрать необходимые права для нового ключа доступа. Понадобится пункт “Разрешить приложению доступ к сообщениям сообщества”.
Возможно дальше предложат получить код на телефон, для подтверждения наших действий. Подтверждаем кодом или push-уведомлением. И получаем наш ключ доступа.
Далее необходимо включить сообщения в сообществе, если этого не было сделано ранее. Выбираем пункт сообщения и меняем значения пункта “Сообщения сообщества” на “Включены".

Чтобы начать работу с ботом необходимо написать приветствие. После этого бот выведет несколько кнопок.

Нажав на неё, вы увидите список команд.

Пользователю с правами администратора доступны следующие команды:
* Отправить заявление
* Отправить чек
* Когда я дежурю
* Добавить проживаюшего
* Удалить проживаюшего
* Узнать ФИО по id
* Узнать id по ФИО
* Изменить id коменданта
* Изменить id администратора

Пользователю с правами студента доступны следующие команды:
* Отправить заявление
* Отправить чек
* Когда я дежурю
* Список команд


Данные команды так же отображаются в виде кнопок.
1. Если вы хотите отправить заявление, нажмите соответствующую кнопку и следуйте указаниям, не забудьте ознакомиться с шаблоном.
После заполнения всех данных заявление будет отправлено коменданту.
2. Если вы хотите отправить чек, нажмите соответствующую кнопку, а затем загрузите чек в формате jpg, после этого он будет отправлен коменданту.
3. Если вы хотите отправить узнать дату дежурства, нажмите соответствующую кнопку.
4. Также в день вашего дежурства в 12:00 вы будите получать уведомление о дежурстве.

Если вам доступны права администратора вы можете вносить изменения в файлы таблиц, для этого выберите соответствующую команду.
    
### Руководство по запуску
1. Необходимо зайти на сайт https://www.pythonanywhere.com/ и зарегистрироваться
2. На главной странице необходимо перейти на вкладку "Files", нажав на надпись в правом верхнем углу
3. Необходимо повторить всю архитектуру корневой папки с кодом, создать такие же папки и скопировать в них такие же файлы
4. Дальше на главной странице в левом углу по центру необходимо создать новую консоль, нажав на кнопку $Bash
5. В консоли необходимо прописать "pip3 install --user vk_api" и по завершении команды "pip3 install --user docxtpl"
6. После установки библиотек можно запускать программу командой "python3 Main.py"
7. Консоль необходимо перезапускать, желательно, раз в день
